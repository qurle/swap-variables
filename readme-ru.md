# Swap Variables для Figma

Как Swap Libraries, но для переменных.

![Swap Variables cover](https://github.com/qurle/swap-variables/blob/main/assets/cover.png?raw=true)

[Readme in English](https://github.com/qurle/swap-variables/blob/main/readme.md)

## Как пользоваться

Запустите плагин из поиска или меню плагинов.
Выделите несколько слоёв, выберите изначальную коллекцию и коллекцию, которая её заменит. Нажмите кнопку Swap Variables.

Если не выделено ни одного слоя, плагин заменит переменные на всём пейдже.

Если во время замены возникли ошибки, плагин покажет их ниже. Нажмите на ошибку, чтобы сфокусироваться на проблемном объекте.

## Как работает

Swap Variables покажешь все локальные и подключенные внешние библиотеки с коллекциями внутри них. Коллекции без переменных не отображаются в плагине.

Во время замены переменных, плагин будет рекурсивно искать все используемые переменные, проверяя, что:

-   переменная лежит в изначальной коллекции,
-   заменяющая коллекция содержит переменную с таким же именем.

Когда плагин доделает свою работу, он покажет известные ошибки под кнопкой замены.

## Известные ограничения

-   Если вы изменили внешние библиотеки, обновите страницу, чтобы изменения применились.
-   Плагин не заменяет стили — стили плохо поддерживаются в API. Используйте [Swap Libraries](https://help.figma.com/hc/en-us/articles/4404856784663-Swap-style-and-component-libraries).
-   Плагин не заменяет переменные в текстах с разными заливками. Замените вручную.
-   Плагин не заменяет обводки в секциях — этого нет в API. Замените вручную.
-   Придётся подождать, если слоёв или переменных слишком много. Возьмите перерыв и заварите чая.
-   Моды (режимы) переменных слетят после замены.
-   Работа со scoped-переменными не проверялась.

## Возможный родмап

-   [x] Можно кликнуть на ошибку, чтобы увидеть проблемный объект.
-   [x] Коллекции без переменных не отображаются.
-   [x] Возможность создать новую локальную коллекцию.
-   [ ] Отображать количество переменных рядом с коллекциями.
-   [ ] Выбор той же коллекции меняет выбранные коллекции местами.

## Сложности, идеи, добрые слова?

Я принимаю запросы на фичи и идеи для улучшения. Не трогать скрытые слои? Заменять весь файл целиком? Добавить полезные исключения? Если есть идеи или проблемы, напишите в комменты.

А ещё можно связаться со мной по почте [nikita.denisov@vk.team](mailto:nikita.denisov@vk.team?subject=Swap%20Variables) или [в телеграме](https://t.me/qurle).

## <3
